<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BackupWatch Documentation</title>
    <link rel="icon" type="image/jpeg" href="/static/favorite.jpg">
    <style>
        body, html {
            height: 100%;
            margin: 0;
            padding: 20px;
            transition: background-color 0.5s, color 0.5s;
        }
        body.light-mode {
            background-color: white;
            color: black;
        }
        body.dark-mode {
            background-color: #2c2c2c;
            color: white;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1, h2, h3 {
            text-align: center;
        }
        p {
            font-size: 1.1em;
            margin-bottom: 15px;
            text-align: justify;
        }
        .back-button {
            background-color: transparent;
            border: none;
            color: inherit;
            cursor: pointer;
            font-size: 1em;
            position: absolute;
            top: 20px;
            left: 20px;
        }
    </style>
</head>
<body onload="loadTheme()">
    <button class="back-button" onclick="location.href='/'">Back</button>
    <div class="container">
        <h1>BackupWatch Documentation</h1>
        
        <h2>Introduction</h2>
        <p>BackupWatch is a web-based application designed to monitor the status of backups through emails. The application checks incoming emails for specific keywords that indicate the success or failure of a backup operation. Based on the keywords found, BackupWatch updates the status of each backup, helping administrators easily identify which backups have succeeded or failed.</p>
        
        <h2>License and Open-Source Nature</h2>
        <p>BackupWatch is an open-source project licensed under the Apache-2.0 license. This means that you are free to use, modify, and distribute the software under the terms of the license. As an open-source project, BackupWatch encourages community contributions and collaboration. You can review the source code, suggest improvements, and contribute to the project on its public repository.</p>
        <p>The open-source nature of BackupWatch ensures that it remains transparent, secure, and customizable according to your needs. By using an open-source license, the application promotes innovation and trust among its users, who can inspect and improve the codebase as necessary.</p>

        <h2>Features</h2>
        <p>BackupWatch offers a range of features to help you monitor and manage your backups effectively:</p>
        <ul>
            <li><strong>Backup Monitoring:</strong> Automatically checks emails for backup success or failure based on user-defined keywords.</li>
            <li><strong>Real-time Status Updates:</strong> Displays the current status of backups with color-coded indicators.</li>
            <li><strong>Automatic Refresh:</strong> Periodically refreshes the status of backups based on a configurable interval.</li>
            <li><strong>Account Management:</strong> Allows administrators to manage user accounts, including adding, updating, and deleting users.</li>
            <li><strong>Customizable Configuration:</strong> Adjust settings such as email server details, port number, and refresh intervals through a user-friendly interface.</li>
            <li><strong>Version Updates:</strong> Check for and install new versions of the application with ease.</li>
            <li><strong>License Information:</strong> Access detailed license information for BackupWatch.</li>
            <li><strong>Dark and Light Mode:</strong> Toggle between dark and light themes based on user preference.</li>
        </ul>

        <h2>User Roles and Permissions</h2>
        <p>BackupWatch supports multiple user roles, each with different levels of access and capabilities. Understanding these roles is essential for managing the application effectively:</p>
        
        <h3>Admin</h3>
        <p>The Admin role has the highest level of access within BackupWatch. Admins can perform the following tasks:</p>
        <ul>
            <li><strong>Manage Users:</strong> Create, update, and delete user accounts.</li>
            <li><strong>Configure Email Settings:</strong> Modify email server settings, including IMAP and SMTP configurations.</li>
            <li><strong>Manage Backups:</strong> Add, edit, and delete backups. Admins can also move backup status squares on the dashboard.</li>
            <li><strong>Access Administration Panel:</strong> Access features such as version updates, changing the port, and configuring automatic refresh intervals.</li>
            <li><strong>View and Update License Information:</strong> Access and manage the software license.</li>
        </ul>

        <h3>Moderator</h3>
        <p>Moderators have a slightly restricted set of permissions compared to Admins. They can perform the following tasks:</p>
        <ul>
            <li><strong>Manage Backups:</strong> Add, edit, and delete backups, similar to Admins.</li>
            <li><strong>Move Backup Status Squares:</strong> Adjust the position of backup status squares on the dashboard.</li>
            <li><strong>View Account Configuration:</strong> Moderators can view and update their account details but cannot manage other user accounts.</li>
        </ul>

        <h3>Guest</h3>
        <p>The Guest role has the most limited access within BackupWatch. Guests can only view the status of backups without the ability to make changes. Specifically, Guests can:</p>
        <ul>
            <li><strong>View Backup Status:</strong> See the current status of all backups on the dashboard.</li>
            <li><strong>Account Configuration:</strong> Guests can view and update their account details but have no access to manage backups or other settings.</li>
        </ul>

        <h2>Getting Started</h2>
        <p>To start using BackupWatch, log in with your credentials. If you are an administrator, you will have access to additional features such as user management, mail configuration, and version updates.</p>
        
        <h2>Managing Backups</h2>
        <p>To add a new backup, navigate to the "Add New" section and fill out the required details, including the backup name, email address, email subject, and the keywords to identify success and failure. Once added, BackupWatch will begin monitoring emails and updating the status accordingly.</p>
        
        <h2>Understanding Status Indicators</h2>
        <p>BackupWatch uses color-coded squares to indicate the status of each backup:</p>
        <ul>
            <li><span style="color: green;">Green:</span> Backup completed successfully.</li>
            <li><span style="color: yellow;">Yellow:</span> Backup is delayed by one interval.</li>
            <li><span style="color: purple;">Purple:</span> Backup is delayed by two intervals.</li>
            <li><span style="color: red;">Red:</span> Backup failed or encountered an error.</li>
        </ul>

        <h2>Additional Features</h2>
        <p>As an administrator, you can configure the email server settings, change the port number, and manage user accounts through the "Administration" section. Additionally, you can check for new versions of BackupWatch and install updates to keep the application up-to-date with the latest features and security patches.</p>
    </div>
    <script>
        function loadTheme() {
            const theme = localStorage.getItem('theme');
            if (theme) {
                document.body.classList.add(theme);
            } else {
                document.body.classList.add('light-mode');
            }
        }
    </script>
</body>
</html>
